import{$b as S,Ab as P,Bb as O,Cb as l,Db as u,Fb as H,Gb as g,Hb as M,Qa as _,Sa as m,Sb as p,Tb as F,cb as C,ia as y,ja as b,yb as w,zb as v}from"./chunk-WI6HXICT.js";var h=class{constructor(r,i){this.suit=r,this.rank=i}toString(){return`${this.rank}${this.suit}`}get image(){let r;switch(this.rank){case"A":r="ace";break;case"K":r="king";break;case"Q":r="queen";break;case"J":r="jack";break;default:r=this.rank;break}let i;switch(this.suit){case"\u2665\uFE0F":i="hearts";break;case"\u2666\uFE0F":i="diamonds";break;case"\u2663\uFE0F":i="clubs";break;case"\u2660\uFE0F":i="spades";break;default:i="";break}return`${r}_of_${i}.svg`}};function T(a,r){if(a&1){let i=H();l(0,"img",5),g("click",function(){let e=y(i).$implicit,n=M();return n.discardCard(e),b(n.drawFromDeck())}),u()}if(a&2){let i=r.$implicit;O("src",S("assets/cards/",i.image),_)}}var j=(()=>{let r=class r{constructor(){this.deck=[],this.playerHand=[],this.discardIndex=0,this.discardPile=[],this.playerScore=0,this.setupGame()}dealCards(){this.playerHand=[];for(let t=0;t<5;t++)this.playerHand.push(this.deck.pop())}setupGame(){this.initializeDeck(),this.shuffleDeck(),this.dealCards()}initializeDeck(){let t=["\u2665\uFE0F","\u2666\uFE0F","\u2663\uFE0F","\u2660\uFE0F"],e=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];this.deck=[];for(let n of t)for(let c of e)this.deck.push(new h(n,c))}shuffleDeck(){for(let t=this.deck.length-1;t>0;t--){let e=Math.floor(Math.random()*(t+1));[this.deck[t],this.deck[e]]=[this.deck[e],this.deck[t]]}}discardCard(t){let e=this.playerHand.indexOf(t);this.discardIndex=e,e>-1&&(this.playerHand.splice(e,1),this.discardPile.push(t))}drawFromDeck(){if(this.deck.length>0){let t=this.deck.pop();t&&this.playerHand.splice(this.discardIndex,0,t).push(t)}}identifyPokerHand(t){let e=[...t];if(e.length!==5)throw new Error("A poker hand must consist of exactly 5 cards.");e.sort((s,d)=>{let f=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];return f.indexOf(s.rank)-f.indexOf(d.rank)});let n=e.every(s=>s.suit===e[0].suit),c=e.every((s,d)=>{if(d===0)return!0;let f=e[d-1],x=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];return s.rank==="A"&&f.rank==="5"?!0:x.indexOf(s.rank)===x.indexOf(f.rank)+1}),k={};e.forEach(s=>{k[s.rank]=(k[s.rank]||0)+1});let o=Object.values(k).sort((s,d)=>d-s);return n&&c&&e[0].rank==="10"&&e[4].rank==="A"?"Royal Flush":n&&c?"Straight Flush":o[0]===4?"Four of a Kind":o[0]===3&&o[1]===2?"Full House":n?"Flush":c?"Straight":o[0]===3?"Three of a Kind":o[0]===2&&o[1]===2?"Two Pair":o[0]===2?"Pair":"High Card"}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=C({type:r,selectors:[["app-poker"]],decls:11,vars:1,consts:[[1,"game-container"],[1,"card-table"],[1,"card",3,"src"],[1,"controls"],[1,"button",3,"click"],[1,"card",3,"click","src"]],template:function(e,n){e&1&&(l(0,"div",0)(1,"h1"),p(2,"Poker"),u(),l(3,"div",1),v(4,T,1,2,"img",2,w),u(),l(6,"div",3)(7,"button",4),g("click",function(){return n.setupGame()}),p(8,"Shuffle"),u(),l(9,"div"),p(10),u()()()),e&2&&(m(4),P(n.playerHand),m(6),F(n.identifyPokerHand(n.playerHand)))},styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#2c3e50;color:#ecf0f1;margin:0;padding:0;display:flex;justify-content:center;align-items:center;height:100vh}.game-container[_ngcontent-%COMP%]{width:80%;max-width:1200px;text-align:center}.card-table[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:10px;margin:20px 0}.card[_ngcontent-%COMP%]{width:100px;height:150px;background-color:#fff;border-radius:8px;display:flex;justify-content:center;align-items:center;font-size:24px;font-weight:700;cursor:pointer;transition:transform .2s}.card[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.controls[_ngcontent-%COMP%]{margin-top:20px}.button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#e74c3c;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:16px}.button[_ngcontent-%COMP%]:hover{background-color:#c0392b}"]});let a=r;return a})();export{j as PokerComponent};
