import{a as F}from"./chunk-772POKS6.js";import{Bb as P,Cb as b,Db as v,Ib as d,Jb as l,Lb as w,Mb as E,Qa as C,Qb as k,Rb as O,Sa as h,ac as p,bc as H,db as _,ha as x,ia as y,jc as M}from"./chunk-MLV534J7.js";function S(s,i){if(s&1){let u=w();d(0,"img",5),k("click",function(){let e=x(u).$implicit,r=O();return r.discardCard(e),y(r.drawFromDeck())}),l()}if(s&2){let u=i.$implicit;E("src",M("assets/cards/",u.image),C)}}var T=(()=>{let i=class i{constructor(){this.deck=[],this.playerHand=[],this.discardIndex=0,this.discardPile=[],this.playerScore=0,this.setupGame()}dealCards(){this.playerHand=[];for(let t=0;t<5;t++)this.playerHand.push(this.deck.pop())}setupGame(){this.initializeDeck(),this.shuffleDeck(),this.dealCards()}initializeDeck(){let t=["\u2665\uFE0F","\u2666\uFE0F","\u2663\uFE0F","\u2660\uFE0F"],e=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];this.deck=[];for(let r of t)for(let a of e)this.deck.push(new F(r,a))}shuffleDeck(){for(let t=this.deck.length-1;t>0;t--){let e=Math.floor(Math.random()*(t+1));[this.deck[t],this.deck[e]]=[this.deck[e],this.deck[t]]}}discardCard(t){let e=this.playerHand.indexOf(t);this.discardIndex=e,e>-1&&(this.playerHand.splice(e,1),this.discardPile.push(t))}drawFromDeck(){if(this.deck.length>0){let t=this.deck.pop();t&&this.playerHand.splice(this.discardIndex,0,t).push(t)}}identifyPokerHand(t){let e=[...t];if(e.length!==5)throw new Error("A poker hand must consist of exactly 5 cards.");e.sort((n,c)=>{let f=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];return f.indexOf(n.rank)-f.indexOf(c.rank)});let r=e.every(n=>n.suit===e[0].suit),a=e.every((n,c)=>{if(c===0)return!0;let f=e[c-1],g=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];return n.rank==="A"&&f.rank==="5"?!0:g.indexOf(n.rank)===g.indexOf(f.rank)+1}),m={};e.forEach(n=>{m[n.rank]=(m[n.rank]||0)+1});let o=Object.values(m).sort((n,c)=>c-n);return r&&a&&e[0].rank==="10"&&e[4].rank==="A"?"Royal Flush":r&&a?"Straight Flush":o[0]===4?"Four of a Kind":o[0]===3&&o[1]===2?"Full House":r?"Flush":a?"Straight":o[0]===3?"Three of a Kind":o[0]===2&&o[1]===2?"Two Pair":o[0]===2?"Pair":"High Card"}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=_({type:i,selectors:[["ken-poker"]],decls:11,vars:1,consts:[[1,"game-container"],[1,"card-table"],[1,"card",3,"src"],[1,"controls"],[1,"button",3,"click"],[1,"card",3,"click","src"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"h1"),p(2,"Poker"),l(),d(3,"div",1),b(4,S,1,2,"img",2,P),l(),d(6,"div",3)(7,"button",4),k("click",function(){return r.setupGame()}),p(8,"Redeal"),l(),d(9,"div"),p(10),l()()()),e&2&&(h(4),v(r.playerHand),h(6),H(r.identifyPokerHand(r.playerHand)))},styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#2c3e50;color:#ecf0f1;margin:0;padding:0;display:flex;justify-content:center;align-items:center;height:100vh}.game-container[_ngcontent-%COMP%]{width:80%;max-width:1200px;text-align:center}.card-table[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:10px;margin:20px 0}.card[_ngcontent-%COMP%]{width:100px;height:150px;background-color:#fff;border-radius:8px;display:flex;justify-content:center;align-items:center;font-size:24px;font-weight:700;cursor:pointer;transition:transform .2s}.card[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.controls[_ngcontent-%COMP%]{margin-top:20px}.button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#e74c3c;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:16px}.button[_ngcontent-%COMP%]:hover{background-color:#c0392b}"]});let s=i;return s})();export{T as PokerComponent};
