import{k as v,s as E,t as U,u as V,w as N}from"./chunk-H5RCUBLP.js";import{$b as d,Ab as L,Bb as M,Cb as I,Db as w,Eb as x,Gb as l,Hb as c,Ib as f,Mb as B,Ob as g,Qb as u,Ta as a,_b as _,ac as C,bc as b,db as S,ec as k,fc as F,gc as q,ha as h,ia as p,kc as W,mc as P,nc as T,zb as y}from"./chunk-REZ5G5QU.js";var O=n=>({red:n}),A=n=>({yellow:n}),z=n=>({bold:n});function D(n,o){if(n&1&&(l(0,"span",5),d(1),P(2,"uppercase"),c()),n&2){let i=o.$implicit,e=o.$index;_(W(5,A,e===3)),a(),b("",T(2,3,i)," ")}}function $(n,o){if(n&1&&(l(0,"li"),d(1),c()),n&2){let i=o.$implicit,e=u(2);_(W(3,z,e.isPangram(i))),a(),C(i)}}function j(n,o){if(n&1){let i=B();w(0,D,3,7,"span",1,M),f(2,"br")(3,"br"),l(4,"p"),d(5),c(),l(6,"input",2),g("keydown.enter",function(){h(i);let t=u();return p(t.testWord())}),q("ngModelChange",function(t){h(i);let r=u();return F(r.userInput,t)||(r.userInput=t),p(t)}),c(),l(7,"button",3),g("click",function(){h(i);let t=u();return p(t.testWord())}),d(8,"Submit"),c(),l(9,"p"),d(10),c(),f(11,"br"),l(12,"ul"),w(13,$,2,5,"li",4,I),c()}if(n&2){let i=u();x(i.scrambledWord),a(4),_(W(5,O,!i.message.includes("Pangram")&&!i.message.includes("Good"))),a(),C(i.message),a(),k("ngModel",i.userInput),a(4),b("Score: ",i.score),a(3),x(i.acceptedWords)}}var J=(()=>{let o=class o{constructor(){this.words=[],this.currentWord=void 0,this.scrambledWord=void 0,this.userInput="",this.message="",this.acceptedWordSet=new Set,this.acceptedWords=[],this.score=0,this.loadWordList()}loadWordList(){fetch("assets/words_alpha.txt").then(e=>e.text()).then(e=>{this.words=e.split(`
`).map(t=>t.trim()).filter(t=>t.length>3&&t.length<20),this.words=this.filterWordsWithNoS()}).catch(e=>console.error("Error loading word list:",e))}clearFields(){this.userInput="",this.message="",this.acceptedWordSet.clear(),this.acceptedWords=[],this.score=0}getRandomWord(){this.clearFields();let e=this.filterWordsByUniqueLetters(7),t=Math.floor(Math.random()*e.length);this.currentWord=e[t];let r=this.scrambleWord(this.currentWord);for(;r===this.currentWord;)r=this.scrambleWord(this.currentWord);let s=this.getUniqueLetters(r);this.scrambledWord=Array.from(s),console.log(`Word: ${this.currentWord}`)}filterWordsWithNoS(){return this.words.filter(e=>!e.includes("s"))}getUniqueLetters(e){return new Set(e.split(""))}filterWordsByUniqueLetters(e){return this.words.filter(t=>this.getUniqueLetters(t).size===e)}scrambleWord(e){let t=e.split("");for(let r=t.length-1;r>0;r--){let s=Math.floor(Math.random()*(r+1));[t[r],t[s]]=[t[s],t[r]]}return t.join("")}testWord(){this.message=" ";let e=this.userInput?.toLowerCase().trim();if(this.userInput="",!this.currentWord)return this.message="No current word",!1;if(e.length<4)return this.message="Too short",!1;if(e.length>19)return this.message="Too long",!1;if(this.acceptedWordSet.has(e))return this.message="Already found",!1;let t=this.scrambledWord[3];if(!e.includes(t))return this.message="Missing center letter",!1;let r=this.currentWord.split("");for(let m of e)if(r.indexOf(m)===-1)return this.message="Bad letters",!1;if(!this.words.includes(e))return this.message="Not in word list",!1;let s=0;return e.length===4?s+=1:s+=e.length,this.isPangram(e)?(this.message="Pangram! +"+e.length,s+=7):this.message="Good +"+s,this.score+=s,this.acceptedWordSet.add(e),this.acceptedWords.push(e),this.acceptedWords.sort(),!0}isPangram(e){if(!this.currentWord)return!1;let t=this.getUniqueLetters(this.currentWord),r=this.getUniqueLetters(e);return t.size===r.size&&[...t].every(s=>r.has(s))}getAllPossibleWords(){if(!this.currentWord)return[];let e=this.scrambledWord[3];return this.words.filter(t=>t.includes(e)&&this.canFormWordFromLetters(t,this.currentWord)).sort()}canFormWordFromLetters(e,t){let r=t.split("");for(let s of e){let m=r.indexOf(s);if(m===-1)return!1;r.splice(m,1)}return!0}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=S({type:o,selectors:[["ken-scramble-bee"]],decls:4,vars:1,consts:[[3,"click"],[1,"letter",3,"class"],["mat-input","","type","text","placeholder","Your answer here",3,"keydown.enter","ngModelChange","ngModel"],["type","submit",3,"click"],[3,"class"],[1,"letter"]],template:function(t,r){t&1&&(l(0,"button",0),g("click",function(){return r.getRandomWord()}),d(1,"New word"),c(),f(2,"br"),y(3,j,15,7)),t&2&&(a(3),L(r.scrambledWord?3:-1))},dependencies:[N,E,U,V,v],styles:[".letter[_ngcontent-%COMP%]{font-size:2em;font-weight:700;padding-top:15px;margin:0 5px;display:inline-block}.yellow[_ngcontent-%COMP%]{color:#ffaf00}.red[_ngcontent-%COMP%]{color:#ff4c4c}.bold[_ngcontent-%COMP%]{font-weight:700}"]});let n=o;return n})();export{J as ScrambleBeeComponent};
