import{a as D}from"./chunk-772POKS6.js";import{Db as P,Eb as w,Fb as E,Kb as d,Lb as l,Mb as u,Nb as O,Ob as b,Ra as C,Sb as k,Ta as h,Tb as M,cc as g,db as v,ec as S,ha as y,ia as _,lc as F}from"./chunk-EZHD5AXC.js";function H(a,n){if(a&1){let f=O();d(0,"img",7),k("click",function(){let e=y(f).$implicit,r=M();return r.discardCard(e),_(r.drawFromDeck())}),l()}if(a&2){let f=n.$implicit;b("src",F("assets/cards/",f.image),C)}}var j=(()=>{let n=class n{constructor(){this.deck=[],this.playerHand=[],this.discardIndex=0,this.discardPile=[],this.playerScore=0,this.setupGame()}dealCards(){this.playerHand=[];for(let t=0;t<1;t++)this.playerHand.push(this.deck.pop())}setupGame(){this.initializeDeck(),this.shuffleDeck(),this.dealCards()}initializeDeck(){let t=["\u2665\uFE0F","\u2666\uFE0F","\u2663\uFE0F","\u2660\uFE0F"],e=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];this.deck=[];for(let r of t)for(let s of e)this.deck.push(new D(r,s))}shuffleDeck(){for(let t=this.deck.length-1;t>0;t--){let e=Math.floor(Math.random()*(t+1));[this.deck[t],this.deck[e]]=[this.deck[e],this.deck[t]]}}discardCard(t){let e=this.playerHand.indexOf(t);this.discardIndex=e,e>-1&&(this.playerHand.splice(e,1),this.discardPile.push(t))}drawFromDeck(){if(this.deck.length>0){let t=this.deck.pop();t&&this.playerHand.splice(this.discardIndex,0,t).push(t)}}identifyPokerHand(t){let e=[...t];if(e.length!==5)throw new Error("A poker hand must consist of exactly 5 cards.");e.sort((i,c)=>{let p=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];return p.indexOf(i.rank)-p.indexOf(c.rank)});let r=e.every(i=>i.suit===e[0].suit),s=e.every((i,c)=>{if(c===0)return!0;let p=e[c-1],x=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];return i.rank==="A"&&p.rank==="5"?!0:x.indexOf(i.rank)===x.indexOf(p.rank)+1}),m={};e.forEach(i=>{m[i.rank]=(m[i.rank]||0)+1});let o=Object.values(m).sort((i,c)=>c-i);return r&&s&&e[0].rank==="10"&&e[4].rank==="A"?"Royal Flush":r&&s?"Straight Flush":o[0]===4?"Four of a Kind":o[0]===3&&o[1]===2?"Full House":r?"Flush":s?"Straight":o[0]===3?"Three of a Kind":o[0]===2&&o[1]===2?"Two Pair":o[0]===2?"Pair":"High Card"}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=v({type:n,selectors:[["ken-poker-solitaire"]],decls:12,vars:1,consts:[[1,"game-container"],[1,"card-table"],[1,"card-grid"],[1,"card",3,"src"],[1,"deck","card",3,"click"],["src","assets/cards/card_back_blue.svg","alt","Deck"],[1,"controls"],[1,"card",3,"click","src"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"h1"),g(2,"Poker Solitaire"),l(),d(3,"div",1)(4,"div",2),w(5,H,1,2,"img",3,P),l(),d(7,"div",4),k("click",function(){return r.drawFromDeck()}),u(8,"img",5),d(9,"p"),g(10),l()(),u(11,"div",6),l()()),e&2&&(h(5),E(r.playerHand),h(5),S("Deck (",r.deck.length," cards left)"))},styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#2c3e50;color:#ecf0f1;margin:0;padding:0;display:flex;justify-content:center;align-items:center;height:100vh}.game-container[_ngcontent-%COMP%]{width:80%;max-width:100%;max-height:90vh;text-align:center}.card-table[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:10px;margin:20px 0}.card[_ngcontent-%COMP%]{width:80px;height:14vh;background-color:#fff;display:flex;justify-content:center;align-items:center;transition:transform .2s}.card[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.controls[_ngcontent-%COMP%]{margin-top:20px}.button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#e74c3c;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:16px}.button[_ngcontent-%COMP%]:hover{background-color:#c0392b}.card-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:10px;margin-top:10px;max-height:50vh;max-width:500px}.deck[_ngcontent-%COMP%]{position:absolute;left:10px;top:50%;transform:translateY(-40%);width:20px;height:10vh;background-color:#fff}"]});let a=n;return a})();export{j as PokerSolitaireComponent};
